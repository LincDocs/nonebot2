import{_ as t,e as o,f as s,g as a,h as i,i as r,j as d,r as l,o as c}from"./app-koejHIHO.js";const h={};function p(k,e){const n=l("RouteLink");return c(),o("div",null,[e[6]||(e[6]=s('<h1 id="选择驱动器" tabindex="-1"><a class="header-anchor" href="#选择驱动器"><span>选择驱动器</span></a></h1><p>驱动器 (Driver) 是机器人运行的基石，它是机器人初始化的第一步，主要负责数据收发。</p><div class="hint-container important"><p class="hint-container-title">提示</p><p>驱动器的选择通常与机器人所使用的协议适配器相关，如果不知道该选择哪个驱动器，可以先阅读相关协议适配器文档说明。</p></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>如何<strong>安装</strong>驱动器请参考<a href="../tutorial/store.mdx#%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8%E5%99%A8">安装驱动器</a>。</p></div><h2 id="驱动器类型" tabindex="-1"><a class="header-anchor" href="#驱动器类型"><span>驱动器类型</span></a></h2><p>驱动器类型大体上可以分为两种：</p><ul><li><code>Forward</code>：即客户端型驱动器，多用于使用 HTTP 轮询，连接 WebSocket 服务器等情形。</li><li><code>Reverse</code>：即服务端型驱动器，多用于使用 WebHook，接收 WebSocket 客户端连接等情形。</li></ul><p>客户端型驱动器可以分为以下两种：</p><ol><li>异步发送 HTTP 请求，自定义 <code>HTTP Method</code>、<code>URL</code>、<code>Header</code>、<code>Body</code>、<code>Cookie</code>、<code>Proxy</code>、<code>Timeout</code> 等。</li><li>异步建立 WebSocket 连接上下文，自定义 <code>WebSocket URL</code>、<code>Header</code>、<code>Cookie</code>、<code>Proxy</code>、<code>Timeout</code> 等。</li></ol><p>服务端型驱动器目前有：</p>',10)),a("ol",null,[a("li",null,[e[5]||(e[5]=i("ASGI 应用框架，具有以下功能： ")),a("ul",null,[e[3]||(e[3]=a("li",null,"协议适配器自定义 HTTP 上报地址以及对上报数据处理的回调函数。",-1)),e[4]||(e[4]=a("li",null,"协议适配器自定义 WebSocket 连接请求地址以及对 WebSocket 请求处理的回调函数。",-1)),a("li",null,[e[1]||(e[1]=i("用户可以向 ASGI 应用添加任何服务端相关功能，如：")),r(n,{to:"/version-2.4.2/advanced/routing.html"},{default:d(()=>e[0]||(e[0]=[i("添加自定义路由")])),_:1}),e[2]||(e[2]=i("。"))])])])]),e[7]||(e[7]=s(`<h2 id="配置驱动器" tabindex="-1"><a class="header-anchor" href="#配置驱动器"><span>配置驱动器</span></a></h2><p>驱动器的配置方法已经在<a href="../appendices/config.mdx">配置</a>章节中简单进行了介绍，这里将详细介绍驱动器配置的格式。</p><p>NoneBot 中的客户端和服务端型驱动器可以相互配合使用，但服务端型驱动器<strong>仅能选择一个</strong>。所有驱动器模块都会包含一个 <code>Driver</code> 子类，即驱动器类，他可以作为驱动器单独运行。同时，客户端驱动器模块中还会提供一个 <code>Mixin</code> 子类，用于在与其他驱动器配合使用时加载。因此，驱动器配置格式采用特殊语法：<code>&lt;module&gt;[:&lt;Driver&gt;][+&lt;module&gt;[:&lt;Mixin&gt;]]*</code>。</p><p>其中，<code>&lt;module&gt;</code> 代表<strong>驱动器模块路径</strong>；<code>&lt;Driver&gt;</code> 代表<strong>驱动器类名</strong>，默认为 <code>Driver</code>；<code>&lt;Mixin&gt;</code> 代表<strong>驱动器混入类名</strong>，默认为 <code>Mixin</code>。即，我们需要选择一个主要驱动器，然后在其基础上配合使用其他驱动器的功能。主要驱动器可以为客户端或服务端类型，但混入类驱动器只能为客户端类型。</p><p>特别的，为了简化内置驱动器模块路径，我们可以使用 <code>~</code> 符号作为内置驱动器模块路径的前缀，如 <code>~fastapi</code> 代表使用内置驱动器 <code>fastapi</code>。NoneBot 内置了多个驱动器适配，但需要安装额外依赖才能使用，具体请参考<a href="../tutorial/store.mdx#%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8%E5%99%A8">安装驱动器</a>。常见的驱动器配置如下：</p><div class="language-dotenv line-numbers-mode" data-highlighter="shiki" data-ext="dotenv" data-title="dotenv" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">DRIVER</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">~fastapi</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">DRIVER</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">~aiohttp</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">DRIVER</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">~httpx+~websockets</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">DRIVER</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">~fastapi+~httpx+~websockets</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="获取驱动器" tabindex="-1"><a class="header-anchor" href="#获取驱动器"><span>获取驱动器</span></a></h2><p>在 NoneBot 框架初始化完成后，我们就可以通过 <code>get_driver()</code> 方法获取全局驱动器实例：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> nonebot </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> get_driver</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">driver </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> get_driver</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="内置驱动器" tabindex="-1"><a class="header-anchor" href="#内置驱动器"><span>内置驱动器</span></a></h2><h3 id="none" tabindex="-1"><a class="header-anchor" href="#none"><span>None</span></a></h3><p>**类型：**服务端驱动器</p><p>NoneBot 内置的空驱动器，不提供任何收发数据功能，可以在不需要外部网络连接时使用。</p><div class="language-env line-numbers-mode" data-highlighter="shiki" data-ext="env" data-title="env" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>DRIVER=~none</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="fastapi-默认" tabindex="-1"><a class="header-anchor" href="#fastapi-默认"><span>FastAPI（默认）</span></a></h3><p>**类型：**ASGI 服务端驱动器</p><blockquote><p>FastAPI is a modern, fast (high-performance), web framework for building APIs with Python 3.6+ based on standard Python type hints.</p></blockquote><p><a href="https://fastapi.tiangolo.com/" target="_blank" rel="noopener noreferrer">FastAPI</a> 是一个易上手、高性能的异步 Web 框架，具有极佳的编写体验。 FastAPI 可以通过类型注解、依赖注入等方式实现输入参数校验、自动生成 API 文档等功能，也可以挂载其他 ASGI、WSGI 应用。</p><div class="language-env line-numbers-mode" data-highlighter="shiki" data-ext="env" data-title="env" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>DRIVER=~fastapi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="fastapi-配置项" tabindex="-1"><a class="header-anchor" href="#fastapi-配置项"><span>FastAPI 配置项</span></a></h4><h5 id="fastapi-openapi-url" tabindex="-1"><a class="header-anchor" href="#fastapi-openapi-url"><span><code>fastapi_openapi_url</code></span></a></h5><p>类型：<code>str | None</code><br> 默认值：<code>None</code><br> 说明：<code>FastAPI</code> 提供的 <code>OpenAPI</code> JSON 定义地址，如果为 <code>None</code>，则不提供 <code>OpenAPI</code> JSON 定义。</p><h5 id="fastapi-docs-url" tabindex="-1"><a class="header-anchor" href="#fastapi-docs-url"><span><code>fastapi_docs_url</code></span></a></h5><p>类型：<code>str | None</code><br> 默认值：<code>None</code><br> 说明：<code>FastAPI</code> 提供的 <code>Swagger</code> 文档地址，如果为 <code>None</code>，则不提供 <code>Swagger</code> 文档。</p><h5 id="fastapi-redoc-url" tabindex="-1"><a class="header-anchor" href="#fastapi-redoc-url"><span><code>fastapi_redoc_url</code></span></a></h5><p>类型：<code>str | None</code><br> 默认值：<code>None</code><br> 说明：<code>FastAPI</code> 提供的 <code>ReDoc</code> 文档地址，如果为 <code>None</code>，则不提供 <code>ReDoc</code> 文档。</p><h5 id="fastapi-include-adapter-schema" tabindex="-1"><a class="header-anchor" href="#fastapi-include-adapter-schema"><span><code>fastapi_include_adapter_schema</code></span></a></h5><p>类型：<code>bool</code><br> 默认值：<code>True</code><br> 说明：<code>FastAPI</code> 提供的 <code>OpenAPI</code> JSON 定义中是否包含适配器路由的 <code>Schema</code>。</p><h5 id="fastapi-reload" tabindex="-1"><a class="header-anchor" href="#fastapi-reload"><span><code>fastapi_reload</code></span></a></h5><div class="hint-container caution"><p class="hint-container-title">警告</p><p>不推荐开启该配置项，在 Windows 平台上开启该功能有可能会造成预料之外的影响！替代方案：使用 <code>nb-cli</code> 命令行工具以及参数 <code>--reload</code> 启动 NoneBot。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>开启该功能后，在 uvicorn 运行时（FastAPI 提供的 ASGI 底层，即 reload 功能的实际来源），asyncio 使用的事件循环会被 uvicorn 从默认的 <code>ProactorEventLoop</code> 强制切换到 <code>SelectorEventLoop</code>。</p><blockquote><p>相关信息参考 <a href="https://github.com/encode/uvicorn/issues/529" target="_blank" rel="noopener noreferrer">uvicorn#529</a>，<a href="https://github.com/encode/uvicorn/pull/1070" target="_blank" rel="noopener noreferrer">uvicorn#1070</a>，<a href="https://github.com/encode/uvicorn/pull/1257" target="_blank" rel="noopener noreferrer">uvicorn#1257</a></p></blockquote><p>后者（<code>SelectorEventLoop</code>）在 Windows 平台的可使用性不如前者（<code>ProactorEventLoop</code>），包括但不限于</p><ol><li>不支持创建子进程</li><li>最多只支持 512 个套接字</li><li>...</li></ol><blockquote><p>具体信息参考 <a href="https://docs.python.org/zh-cn/3/library/asyncio-platforms.html#windows" target="_blank" rel="noopener noreferrer">Python 文档</a></p></blockquote><p>所以，一些使用了 asyncio 的库因此可能无法正常工作，如：</p><ol><li><a href="https://playwright.dev/python/docs/library#incompatible-with-selectoreventloop-of-asyncio-on-windows" target="_blank" rel="noopener noreferrer">playwright</a></li></ol><p>如果在开启该功能后，原本<strong>正常运行</strong>的代码报错，且打印的异常堆栈信息和 asyncio 有关（异常一般为 <code>NotImplementedError</code>），<br> 你可能就需要考虑相关库对事件循环的支持，以及是否启用该功能。</p></div><p>类型：<code>bool</code><br> 默认值：<code>False</code><br> 说明：是否开启 <code>uvicorn</code> 的 <code>reload</code> 功能，需要在机器人入口文件提供 ASGI 应用路径。</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">app </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> nonebot.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_asgi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">nonebot.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">app</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;bot:app&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="fastapi-reload-dirs" tabindex="-1"><a class="header-anchor" href="#fastapi-reload-dirs"><span><code>fastapi_reload_dirs</code></span></a></h5><p>类型：<code>List[str] | None</code><br> 默认值：<code>None</code><br> 说明：重载监控文件夹列表，默认为 uvicorn 默认值</p><h5 id="fastapi-reload-delay" tabindex="-1"><a class="header-anchor" href="#fastapi-reload-delay"><span><code>fastapi_reload_delay</code></span></a></h5><p>类型：<code>float | None</code><br> 默认值：<code>None</code><br> 说明：重载延迟，默认为 uvicorn 默认值</p><h5 id="fastapi-reload-includes" tabindex="-1"><a class="header-anchor" href="#fastapi-reload-includes"><span><code>fastapi_reload_includes</code></span></a></h5><p>类型：<code>List[str] | None</code><br> 默认值：<code>None</code><br> 说明：要监听的文件列表，支持 glob pattern，默认为 uvicorn 默认值</p><h5 id="fastapi-reload-excludes" tabindex="-1"><a class="header-anchor" href="#fastapi-reload-excludes"><span><code>fastapi_reload_excludes</code></span></a></h5><p>类型：<code>List[str] | None</code><br> 默认值：<code>None</code><br> 说明：不要监听的文件列表，支持 glob pattern，默认为 uvicorn 默认值</p><h5 id="fastapi-extra" tabindex="-1"><a class="header-anchor" href="#fastapi-extra"><span><code>fastapi_extra</code></span></a></h5><p>类型：<code>Dist[str, Any]</code><br> 默认值：<code>{}</code><br> 说明：传递给 <code>FastAPI</code> 的其他参数</p><h3 id="quart" tabindex="-1"><a class="header-anchor" href="#quart"><span>Quart</span></a></h3><p>**类型：**ASGI 服务端驱动器</p><blockquote><p>Quart is an asyncio reimplementation of the popular Flask microframework API.</p></blockquote><p><a href="https://quart.palletsprojects.com/" target="_blank" rel="noopener noreferrer">Quart</a> 是一个类 Flask 的异步版本，拥有与 Flask 非常相似的接口和使用方法。</p><div class="language-env line-numbers-mode" data-highlighter="shiki" data-ext="env" data-title="env" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>DRIVER=~quart</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="quart-配置项" tabindex="-1"><a class="header-anchor" href="#quart-配置项"><span>Quart 配置项</span></a></h4><h5 id="quart-reload" tabindex="-1"><a class="header-anchor" href="#quart-reload"><span><code>quart_reload</code></span></a></h5><div class="hint-container caution"><p class="hint-container-title">警告</p><p>不推荐开启该配置项，在 Windows 平台上开启该功能有可能会造成预料之外的影响！替代方案：使用 <code>nb-cli</code> 命令行工具以及参数 <code>--reload</code> 启动 NoneBot。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><p>类型：<code>bool</code><br> 默认值：<code>False</code><br> 说明：是否开启 <code>uvicorn</code> 的 <code>reload</code> 功能，需要在机器人入口文件提供 ASGI 应用路径。</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">app </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> nonebot.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_asgi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">nonebot.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">app</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;bot:app&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="quart-reload-dirs" tabindex="-1"><a class="header-anchor" href="#quart-reload-dirs"><span><code>quart_reload_dirs</code></span></a></h5><p>类型：<code>List[str] | None</code><br> 默认值：<code>None</code><br> 说明：重载监控文件夹列表，默认为 uvicorn 默认值</p><h5 id="quart-reload-delay" tabindex="-1"><a class="header-anchor" href="#quart-reload-delay"><span><code>quart_reload_delay</code></span></a></h5><p>类型：<code>float | None</code><br> 默认值：<code>None</code><br> 说明：重载延迟，默认为 uvicorn 默认值</p><h5 id="quart-reload-includes" tabindex="-1"><a class="header-anchor" href="#quart-reload-includes"><span><code>quart_reload_includes</code></span></a></h5><p>类型：<code>List[str] | None</code><br> 默认值：<code>None</code><br> 说明：要监听的文件列表，支持 glob pattern，默认为 uvicorn 默认值</p><h5 id="quart-reload-excludes" tabindex="-1"><a class="header-anchor" href="#quart-reload-excludes"><span><code>quart_reload_excludes</code></span></a></h5><p>类型：<code>List[str] | None</code><br> 默认值：<code>None</code><br> 说明：不要监听的文件列表，支持 glob pattern，默认为 uvicorn 默认值</p><h5 id="quart-extra" tabindex="-1"><a class="header-anchor" href="#quart-extra"><span><code>quart_extra</code></span></a></h5><p>类型：<code>Dist[str, Any]</code><br> 默认值：<code>{}</code><br> 说明：传递给 <code>Quart</code> 的其他参数</p><h3 id="httpx" tabindex="-1"><a class="header-anchor" href="#httpx"><span>HTTPX</span></a></h3><p>**类型：**HTTP 客户端驱动器</p><div class="hint-container caution"><p class="hint-container-title">注意</p><p>本驱动器仅支持 HTTP 请求，不支持 WebSocket 连接请求。</p></div><blockquote><p><a href="https://www.python-httpx.org/" target="_blank" rel="noopener noreferrer">HTTPX</a> is a fully featured HTTP client for Python 3, which provides sync and async APIs, and support for both HTTP/1.1 and HTTP/2.</p></blockquote><div class="language-env line-numbers-mode" data-highlighter="shiki" data-ext="env" data-title="env" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>DRIVER=~httpx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="websockets" tabindex="-1"><a class="header-anchor" href="#websockets"><span>websockets</span></a></h3><p>**类型：**WebSocket 客户端驱动器</p><div class="hint-container caution"><p class="hint-container-title">注意</p><p>本驱动器仅支持 WebSocket 连接请求，不支持 HTTP 请求。</p></div><blockquote><p><a href="https://websockets.readthedocs.io/" target="_blank" rel="noopener noreferrer">websockets</a> is a library for building WebSocket servers and clients in Python with a focus on correctness, simplicity, robustness, and performance.</p></blockquote><div class="language-env line-numbers-mode" data-highlighter="shiki" data-ext="env" data-title="env" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>DRIVER=~websockets</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="aiohttp" tabindex="-1"><a class="header-anchor" href="#aiohttp"><span>AIOHTTP</span></a></h3><p>**类型：**HTTP/WebSocket 客户端驱动器</p><blockquote><p><a href="https://docs.aiohttp.org/" target="_blank" rel="noopener noreferrer">AIOHTTP</a>: Asynchronous HTTP Client/Server for asyncio and Python.</p></blockquote><div class="language-env line-numbers-mode" data-highlighter="shiki" data-ext="env" data-title="env" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>DRIVER=~aiohttp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,76))])}const u=t(h,[["render",p],["__file","driver.html.vue"]]),g=JSON.parse('{"path":"/version-2.4.2/advanced/driver.html","title":"选择驱动器","lang":"zh-CN","frontmatter":{"sidebar_position":0,"description":"选择合适的驱动器运行机器人","options":{"menu":[{"category":"advanced","weight":10}]},"head":[["meta",{"property":"og:url","content":"https://LincDocs.github.io/nonebot2/version-2.4.2/advanced/driver.html"}],["meta",{"property":"og:site_name","content":"nonebot2"}],["meta",{"property":"og:title","content":"选择驱动器"}],["meta",{"property":"og:description","content":"选择合适的驱动器运行机器人"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"选择驱动器\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincDocs\\",\\"url\\":\\"https://github.com/LincDocs/nonebot2/\\"}]}"]]},"git":{},"readingTime":{"minutes":6.61,"words":1982},"filePathRelative":"version-2.4.2/advanced/driver.md","excerpt":"\\n<p>驱动器 (Driver) 是机器人运行的基石，它是机器人初始化的第一步，主要负责数据收发。</p>\\n<div class=\\"hint-container important\\">\\n<p class=\\"hint-container-title\\">提示</p>\\n<p>驱动器的选择通常与机器人所使用的协议适配器相关，如果不知道该选择哪个驱动器，可以先阅读相关协议适配器文档说明。</p>\\n</div>\\n<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">提示</p>\\n<p>如何<strong>安装</strong>驱动器请参考<a href=\\"../tutorial/store.mdx#%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8%E5%99%A8\\">安装驱动器</a>。</p>\\n</div>","bioChainData":{"outlink":[{"title":"routing","link":"version-2.4.2/advanced/routing.html"}],"backlink":[{"title":"routing","link":"version-2.4.2/advanced/routing.html"},{"title":"runtime-hook","link":"version-2.4.2/advanced/runtime-hook.html"}],"localMap":{"nodes":[{"id":"version-2.4.2/advanced/driver.md","value":{"title":"driver","path":"version-2.4.2/advanced/driver.md","outlink":["version-2.4.2/advanced/routing.md"],"backlink":["version-2.4.2/advanced/routing.md","version-2.4.2/advanced/runtime-hook.md"]}},{"id":"version-2.4.2/advanced/routing.md","value":{"title":"routing","path":"version-2.4.2/advanced/routing.md","outlink":[],"backlink":[]}},{"id":"version-2.4.2/advanced/runtime-hook.md","value":{"title":"runtime-hook","path":"version-2.4.2/advanced/runtime-hook.md","outlink":[],"backlink":[]}}],"links":[{"source":"version-2.4.2/advanced/driver.md","target":"version-2.4.2/advanced/routing.md"},{"source":"version-2.4.2/advanced/routing.md","target":"version-2.4.2/advanced/driver.md"},{"source":"version-2.4.2/advanced/runtime-hook.md","target":"version-2.4.2/advanced/driver.md"}]}}}');export{u as comp,g as data};
