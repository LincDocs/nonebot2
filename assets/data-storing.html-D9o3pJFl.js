import{_ as t,e as l,f as e,g as a,h as s,i as d,j as h,r,o as p}from"./app-Mt0-3WUT.js";const o={};function k(c,i){const n=r("RouteLink");return p(),l("div",null,[i[9]||(i[9]=e('<h1 id="数据存储" tabindex="-1"><a class="header-anchor" href="#数据存储"><span>数据存储</span></a></h1><p>在使用插件的过程中，难免会需要存储一些持久化数据，例如用户的个人信息、群组的信息等。除了使用数据库等第三方存储之外，还可以使用本地文件来自行管理数据。NoneBot 提供了 <code>nonebot-plugin-localstore</code> 插件，可用于获取正确的数据存储路径并写入数据。</p><h2 id="安装插件" tabindex="-1"><a class="header-anchor" href="#安装插件"><span>安装插件</span></a></h2><p>在使用前请先安装 <code>nonebot-plugin-localstore</code> 插件至项目环境中，可参考<a href="../tutorial/store.mdx#%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6">获取商店插件</a>来了解并选择安装插件的方式。如：</p><p>在<strong>项目目录</strong>下执行以下命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> plugin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nonebot-plugin-localstore</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="使用插件" tabindex="-1"><a class="header-anchor" href="#使用插件"><span>使用插件</span></a></h2><p><code>nonebot-plugin-localstore</code> 插件兼容 Windows、Linux 和 macOS 等操作系统，使用时无需关心操作系统的差异。同时插件提供 <code>nb-cli</code> 脚本，可以使用 <code>nb localstore</code> 命令来检查数据存储路径。</p>',8)),a("p",null,[i[1]||(i[1]=s("在使用本插件前同样需要使用 ")),i[2]||(i[2]=a("code",null,"require",-1)),i[3]||(i[3]=s(" 方法进行")),i[4]||(i[4]=a("strong",null,"加载",-1)),i[5]||(i[5]=s("并")),i[6]||(i[6]=a("strong",null,"导入",-1)),i[7]||(i[7]=s("需要使用的方法，可参考 ")),d(n,{to:"/version-2.4.2/advanced/requiring.html"},{default:h(()=>i[0]||(i[0]=[s("跨插件访问")])),_:1}),i[8]||(i[8]=s(" 一节进行了解，如："))]),i[10]||(i[10]=e(`<div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> nonebot </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> require</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;nonebot_plugin_localstore&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> nonebot_plugin_localstore </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> store</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 获取插件缓存目录</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">cache_dir </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> store.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_plugin_cache_dir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 获取插件缓存文件</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">cache_file </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> store.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_plugin_cache_file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;file_name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 获取插件数据目录</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">data_dir </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> store.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_plugin_data_dir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 获取插件数据文件</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">data_file </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> store.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_plugin_data_file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;file_name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 获取插件配置目录</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">config_dir </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> store.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_plugin_config_dir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 获取插件配置文件</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">config_file </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> store.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_plugin_config_file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;file_name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container caution"><p class="hint-container-title">警告</p><p>在 Windows 和 macOS 系统下，插件的数据目录和配置目录是同一个目录，因此在使用时需要注意避免文件名冲突。</p></div><p>插件提供的方法均返回一个 <code>pathlib.Path</code> 路径，可以参考 <a href="https://docs.python.org/zh-cn/3/library/pathlib.html" target="_blank" rel="noopener noreferrer">pathlib 文档</a>来了解如何使用。常用的方法有：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pathlib </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Path</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">data_file </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> store.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_plugin_data_file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;file_name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 写入文件内容</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">data_file.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">write_text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hello World!&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 读取文件内容</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">data </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> data_file.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">read_text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">提示</p><p>对于嵌套插件，子插件的存储目录将位于父插件存储目录下。</p></div><h2 id="配置项" tabindex="-1"><a class="header-anchor" href="#配置项"><span>配置项</span></a></h2><h3 id="localstore-use-cwd" tabindex="-1"><a class="header-anchor" href="#localstore-use-cwd"><span>localstore_use_cwd</span></a></h3><p>使用当前工作目录作为数据存储目录，以下数据目录配置项默认值将会对应变更</p><p>默认值：<code>False</code></p><div class="language-dotenv line-numbers-mode" data-highlighter="shiki" data-ext="dotenv" data-title="dotenv" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">LOCALSTORE_USE_CWD</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="localstore-cache-dir" tabindex="-1"><a class="header-anchor" href="#localstore-cache-dir"><span>localstore_cache_dir</span></a></h3><p>自定义缓存目录</p><p>默认值：</p><p>当 <code>localstore_use_cwd</code> 为 <code>True</code> 时，缓存目录为 <code>&lt;current_working_directory&gt;/cache</code>，否则：</p><ul><li>macOS: <code>~/Library/Caches/nonebot2</code></li><li>Unix: <code>~/.cache/nonebot2</code> (XDG default)</li><li>Windows: <code>C:\\Users\\&lt;username&gt;\\AppData\\Local\\nonebot2\\Cache</code></li></ul><div class="language-dotenv line-numbers-mode" data-highlighter="shiki" data-ext="dotenv" data-title="dotenv" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">LOCALSTORE_CACHE_DIR</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/tmp/cache</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="localstore-data-dir" tabindex="-1"><a class="header-anchor" href="#localstore-data-dir"><span>localstore_data_dir</span></a></h3><p>自定义数据目录</p><p>默认值：</p><p>当 <code>localstore_use_cwd</code> 为 <code>True</code> 时，数据目录为 <code>&lt;current_working_directory&gt;/data</code>，否则：</p><ul><li>macOS: <code>~/Library/Application Support/nonebot2</code></li><li>Unix: <code>~/.local/share/nonebot2</code> or in $XDG_DATA_HOME, if defined</li><li>Win XP (not roaming): <code>C:\\Documents and Settings\\&lt;username&gt;\\Application Data\\nonebot2</code></li><li>Win 7 (not roaming): <code>C:\\Users\\&lt;username&gt;\\AppData\\Local\\nonebot2</code></li></ul><div class="language-dotenv line-numbers-mode" data-highlighter="shiki" data-ext="dotenv" data-title="dotenv" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">LOCALSTORE_DATA_DIR</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/tmp/data</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="localstore-config-dir" tabindex="-1"><a class="header-anchor" href="#localstore-config-dir"><span>localstore_config_dir</span></a></h3><p>自定义配置目录</p><p>默认值：</p><p>当 <code>localstore_use_cwd</code> 为 <code>True</code> 时，配置目录为 <code>&lt;current_working_directory&gt;/config</code>，否则：</p><ul><li>macOS: same as user_data_dir</li><li>Unix: <code>~/.config/nonebot2</code></li><li>Win XP (roaming): <code>C:\\Documents and Settings\\&lt;username&gt;\\Local Settings\\Application Data\\nonebot2</code></li><li>Win 7 (roaming): <code>C:\\Users\\&lt;username&gt;\\AppData\\Roaming\\nonebot2</code></li></ul><div class="language-dotenv line-numbers-mode" data-highlighter="shiki" data-ext="dotenv" data-title="dotenv" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">LOCALSTORE_CONFIG_DIR</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/tmp/config</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="localstore-plugin-cache-dir" tabindex="-1"><a class="header-anchor" href="#localstore-plugin-cache-dir"><span>localstore_plugin_cache_dir</span></a></h3><p>自定义插件缓存目录</p><p>默认值：<code>{}</code></p><div class="language-dotenv line-numbers-mode" data-highlighter="shiki" data-ext="dotenv" data-title="dotenv" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">LOCALSTORE_PLUGIN_CACHE_DIR</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &quot;plugin_id&quot;: &quot;/tmp/plugin_cache&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="localstore-plugin-data-dir" tabindex="-1"><a class="header-anchor" href="#localstore-plugin-data-dir"><span>localstore_plugin_data_dir</span></a></h3><p>自定义插件数据目录</p><p>默认值：<code>{}</code></p><div class="language-dotenv line-numbers-mode" data-highlighter="shiki" data-ext="dotenv" data-title="dotenv" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">LOCALSTORE_PLUGIN_DATA_DIR</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &quot;plugin_id&quot;: &quot;/tmp/plugin_data&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="localstore-plugin-config-dir" tabindex="-1"><a class="header-anchor" href="#localstore-plugin-config-dir"><span>localstore_plugin_config_dir</span></a></h3><p>自定义插件配置目录</p><p>默认值：<code>{}</code></p><div class="language-dotenv line-numbers-mode" data-highlighter="shiki" data-ext="dotenv" data-title="dotenv" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">LOCALSTORE_PLUGIN_CONFIG_DIR</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &quot;plugin_id&quot;: &quot;/tmp/plugin_config&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,40))])}const A=t(o,[["render",k],["__file","data-storing.html.vue"]]),u=JSON.parse('{"path":"/version-2.4.2/best-practice/data-storing.html","title":"数据存储","lang":"zh-CN","frontmatter":{"sidebar_position":1,"description":"存储数据文件到本地","head":[["meta",{"property":"og:url","content":"https://LincDocs.github.io/nonebot2/version-2.4.2/best-practice/data-storing.html"}],["meta",{"property":"og:site_name","content":"nonebot2"}],["meta",{"property":"og:title","content":"数据存储"}],["meta",{"property":"og:description","content":"存储数据文件到本地"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"数据存储\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincDocs\\",\\"url\\":\\"https://github.com/LincDocs/nonebot2/\\"}]}"]]},"git":{},"readingTime":{"minutes":2.51,"words":754},"filePathRelative":"version-2.4.2/best-practice/data-storing.md","excerpt":"\\n<p>在使用插件的过程中，难免会需要存储一些持久化数据，例如用户的个人信息、群组的信息等。除了使用数据库等第三方存储之外，还可以使用本地文件来自行管理数据。NoneBot 提供了 <code>nonebot-plugin-localstore</code> 插件，可用于获取正确的数据存储路径并写入数据。</p>\\n<h2>安装插件</h2>\\n<p>在使用前请先安装 <code>nonebot-plugin-localstore</code> 插件至项目环境中，可参考<a href=\\"../tutorial/store.mdx#%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6\\">获取商店插件</a>来了解并选择安装插件的方式。如：</p>","bioChainData":{"outlink":[{"title":"requiring","link":"version-2.4.2/advanced/requiring.html"}],"backlink":[{"title":"requiring","link":"version-2.4.2/advanced/requiring.html"}],"localMap":{"nodes":[{"id":"version-2.4.2/best-practice/data-storing.md","value":{"title":"data-storing","path":"version-2.4.2/best-practice/data-storing.md","outlink":["version-2.4.2/advanced/requiring.md"],"backlink":["version-2.4.2/advanced/requiring.md"]}},{"id":"version-2.4.2/advanced/requiring.md","value":{"title":"requiring","path":"version-2.4.2/advanced/requiring.md","outlink":[],"backlink":[]}}],"links":[{"source":"version-2.4.2/best-practice/data-storing.md","target":"version-2.4.2/advanced/requiring.md"},{"source":"version-2.4.2/advanced/requiring.md","target":"version-2.4.2/best-practice/data-storing.md"}]}}}');export{A as comp,u as data};
